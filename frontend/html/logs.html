<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="logs-title">سجلات النظام</title>
    <!-- ربط ملفات CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
     <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous"
  />
    <link rel="stylesheet" href="../css/shared.css">
    <link rel="stylesheet" href="../css/logs.css">
    <style>
        /* إخفاء المحتوى حتى يتم تحميل اللغة */
        .content-hidden {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out;
        }

        .content-visible {
            opacity: 1;
            visibility: visible;
        }

        /* أنماط أزرار الحذف */
        .delete-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }

        .delete-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .delete-btn:hover {
            background-color: #c82333;
        }

        .delete-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }

        .select-all-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .select-all-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .select-all-label {
            font-size: 14px;
            cursor: pointer;
        }

        /* أنماط عمود التحديد */
        .checkbox-column {
            width: 40px;
            text-align: center;
        }

        .log-checkbox {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }

        /* أنماط زر الحذف في الصف */
        .delete-row-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.3s;
        }

        .delete-row-btn:hover {
            background-color: #c82333;
        }

        .actions-column {
            width: 80px;
            text-align: center;
        }
    </style>
</head>
<body class="content-hidden">
 <header class="main-header">
    <div class="header-container">
      <div class="system-title">
          <img src="/frontend/images/system-title.png" alt="نظام إدارة الجودة والسلامة">
  </div>
       <div class="hospital-logo">
                <img src="/frontend/images/hospital-logo.png" alt="شعار مستشفى الملك عبد العزيز">
            </div>
    </div>
  </header>
  <div class="header-actions">
    <button class="back-btn" onclick="history.back()">
     <i class="fas fa-arrow-right" id="backIcon"></i>        <span data-translate="back">رجوع</span>
  </button>
  <button class="home-btn" onclick="window.location.href='index.html'">
    <i class="fas fa-home"></i>
    <span data-translate="home">الرئيسية</span>
  </button>
</div>
    <main>

        <div class="container">
            <!-- قسم الفلترة -->
<section class="filter-section">
  <h2 class="section-title" data-translate="logs-title">سجلات النظام</h2>
  
  <!-- أزرار الحذف -->
  <div class="delete-actions">
    <button id="delete-selected" class="delete-btn" disabled>
      <i class="fas fa-trash"></i>
      <span data-translate="delete-selected">حذف المحدد</span>
    </button>
    <button id="delete-all" class="delete-btn">
      <i class="fas fa-trash-alt"></i>
      <span data-translate="delete-all">حذف الكل</span>
    </button>
    <button id="export-logs" class="export-btn">
      <i class="fas fa-file-excel"></i>
      <span data-translate="export-logs">تصدير السجلات</span>
    </button>
  </div>

  <div class="filter-row">

    <div class="input-group search-input">
      <input type="text" id="search-input" data-translate-placeholder="logs-search" placeholder="البحث في السجلات...">
    </div>

    <div class="input-group">
      <label for="from-date" data-translate="from-date">من تاريخ</label>
      <input type="date" id="from-date" name="from-date">
    </div>

    <div class="input-group">
      <label for="to-date" data-translate="to-date">إلى تاريخ</label>
      <input type="date" id="to-date" name="to-date">
    </div>

    <div class="input-group">
      <label for="action-type" data-translate="action-type">نوع الإجراء</label>
      <select id="action-type" name="action-type">
        <option value="" data-translate="all-actions">جميع الإجراءات</option>
      </select>
    </div>

    <!-- ✅ إضافة عنصر اسم المستخدم -->
    <div class="input-group">
      <label for="user-name" data-translate="user-name">اسم المستخدم</label>
      <select id="user-name" name="user-name">
        <option value="" data-translate="all-users">جميع المستخدمين</option>
      </select>
    </div>
  </div>
</section>



            <!-- جدول السجلات -->
            <section class="logs-table-container">
                <table class="logs-table">
                    <thead>
                        <tr>
                            <th class="checkbox-column">
                                <input type="checkbox" id="header-select-all" class="select-all-checkbox">
                            </th>
                            <th data-translate="user-name">اسم المستخدم</th>
                            <th data-translate="logs-description">وصف مختصر</th>
                            <th data-translate="logs-date">التاريخ والوقت</th>
                            <th data-translate="action-type">نوع الإجراء</th>
                            <th class="actions-column" data-translate="actions">الإجراءات</th>
                        </tr>
                    </thead>
                    <tbody id="logs-body">
                        <!-- سيتم تحميل البيانات ديناميكياً -->
                    </tbody>
                </table>
            </section>
        </div>
    </main>
              <div id="toast-container" class="toast-container"></div>

    <script src="../js/language.js"></script>

    <!-- ربط ملف JavaScript -->
    <script src="../js/logs.js"></script>
  </body>

  <script>
      document.addEventListener("DOMContentLoaded", () => {
          // إظهار المحتوى بعد تحميل اللغة
          setTimeout(() => {
              const elements = document.querySelectorAll('.content-hidden');
              elements.forEach(element => {
                  element.classList.remove('content-hidden');
                  element.classList.add('content-visible');
              });
          }, 100);
      });
  </script>
  </html>
